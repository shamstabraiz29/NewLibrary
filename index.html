<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="app"></div>
    <div class="about"></div>

<script>
    
class NEWLibrary{
    constructor(el, initialState = {}, methods = {}){
        this.el = document.querySelector(el);
        this.state = initialState;
        this.methods = methods;

        this.renderTemplate()
    }
    updateState(obj) {
        Object.keys(obj).forEach(variable => {
            const variableValue = obj[variable]
            this.state[variable] = variableValue
        });
        this.renderTemplate();
    }
    render(){
        return``
    }
    renderTemplate(){
        let template = this.render();
       Object.keys(this.state).forEach(variable => {
           const variableValue = this.state[variable]
           template = template.replace(new RegExp(`{{${variable}}}`, 'g'), variableValue)
       });
       this.el.innerHTML = template;
    }
}

class Home extends NEWLibrary {
    constructor(el, state, methods){
        super(el, state, methods)
        setTimeout(() =>{
            this.updateState({
                name: "Google",
                date:"2019 july 20"
            })
        }, 5000)
    }
    render(){
        return `<h1> Welcome to {{name}} and Date is {{date}}. {{name}}  </h1>`
    }
}
class About extends NEWLibrary {
    render(){
        return`<div>This is About page </div>`
    }
}

const app = new Home(".app", {
    name: "facebook",
    date: "2020 jun 15"
}, {});

const about = new About(".about", {}, {})



    // class UILibrary {
    //     constructor(el, initialState = {}, methods = {}) {
    //         this.el = document.querySelector(el);
    //         this.state = initialState;
    //         this.methods = methods;

    //         this.renderTemplate()
    //     }

    //     updateState(obj) {
    //         Object.keys(obj).forEach(variable => {
    //             const variableValue = obj[variable]
    //             this.state[variable] = variableValue
    //         });
    //         this.renderTemplate();
    //     }

    //     render(){
    //         return``
    //     }

    //     renderTemplate() {
    //         let template = this.render();
    //         Object.keys(this.state).forEach(varibale => {
    //             const variableValue = this.state[variable]
    //             template = template.replace(new RegExp(`{{${variable}}}`,'g'), variableValue)
    //         });
    //         this.el.innerHTML = template;
    //     }
    // }
    // class Home extends UILibrary {
    //     constructor(el, state, methods){
    //         super(el , state, methods)
    //         setTimeout(() => {
    //             this.updateState({
    //                 siteName: "Google",
    //                 date: "2020 july 20"
    //             })

    //         }, 2000);
    //     }
    //     render(){
    //         return `<h1>Welcome to {{siteName}} and the date is {{date}}. {{siteName}} </h1>`
    //     }
    // }
    // class About extends UILibrary{
    //     render(){
    //         return `<div> This is about page </div> `
    //     }
    // }
    // const app = new Home(".app", {
    //     siteName:"facebook",
    //     date: "2021 jun 15"
    // }, {});
    // const about = new About(".about", {}, {});
</script>
</body>
</html>